# 开发目标
> 基于netty实现http访问代理，通过graalVM打包为exe二进制应用程序
## 场景问题
> 如github国内访问慢，或类似其他网站（前提是该网站国内无IP封锁）

# 实现原理
通过dns检测域名如`github.com`的可用IP地址，为浏览器访问提供可用地址的转发服务，从而实现对不可知之地的访问

# 郑重声明
**本软件仅供技术研究、学习交流或合法用途使用。任何基于本软件进行的活动均需遵守相关法律法规。**
**禁止将本软件用于任何非法、恶意、未经授权的操作，包括但不限于入侵他人系统、窃取数据、干扰正常网络服务等行为。**
**使用者应对自身行为负责，作者/开发者不承担因使用本软件所引发的任何直接或间接法律责任。**

**若您不同意上述条款，请勿使用或传播本软件。** 

# 使用说明
```
xproxy.exe [--host=0.0.0.0] [--port=8080] [--auto_proxy=true]
```

参数说明
- host: 代理服务器的监听地址，默认：0.0.0.0
- port: 代理服务器的监听端口，默认：8080
- **auto_proxy**: 该参数只在win平台生效，当指定为`true`时，代理服务器启动成功后会自动设置win平台的系统级http代理，应用关闭时，自动关闭系统级代理，无需手动操作。默认为`false`：不开启
## 使用进阶
### 扩展需要代理的域名
支持在与`xproxy.exe`文件同级目录下，建立一个`proxy_domains`文件，文件中每一行填写一个需要代理的域名，例如
```txt
baidu.com
douyin.com
```
那么上述的域名就会被添加都代理中，此时在进行访问就会优先通过IP探测技术替换原域名，提高访问效率！

## win平台自动开启系统http代理

**注意：cmd窗口必须要具备管理员权限**
```bat
@rem cd [xproxy_parent_dir]
@rem 执行如下指令，添加参数--auto_proxy=true即可
xproxy.exe --auto_proxy=true
```
启动时如果看到如下输出即系统代理设置已经自动开启
```
*************************************************************
windows平台自动开启http服务检测：auto_proxy=true
自动开启系统http代理成功！代理服务地址：xxx.xxx.xxx.xxx:8080
*************************************************************
```
`Ctrl+C`停止应用时，系统将自动关闭系统的http代理，可以看到如下提示
```
===================shutdown===================

系统代理已清除！
windows系统代理已关闭！
探测域名服务停止！
HTTP代理服务器--主线程接收到中断异常，即将关闭...

===================shutdown===================
```

# 下载
[程序下载链接](https://github.com/czadxubin/xproxy/tags)，欢迎提出宝贵意见!

<font color="#FF4444">**📌友情提示：测试阶段仅支持win11 64位操作系统**</font>

# 常见问题
###  win窗口输出乱码
原因是默认窗口可能是GBK编码，可以输入`chcp 65001`调整为`UTF-8`编码。之后在运行程序就不会乱码了。